/******* Do not edit this file *******
Simple Custom CSS and JS - by Silkypress.com
Saved: May 11 2023 | 05:23:39 */
//Document Ready
jQuery(document).ready(function($){
	
	$('span.show-more-items').click(function(){
		$('.ppom-input-whatsapp_messages1 .form-check, .ppom-input-sms_messages1 .form-check').slideDown(200);
		$(this).hide();
	})
	
	//category toggle	
	$('.cat_toggle .btn').click(function(){
		$(this).addClass('active').siblings('.btn').removeClass('active');
		if($(this).hasClass('video')){
			$('.product-item.video').parent('li').siblings('li').hide();
			$('.product-item.video').parent('li').show();
		} else {
			$('.product-item.image').parent('li').siblings('li').hide();
			$('.product-item.image').parent('li').show();
		}
	})

	
	$('input.ppom-input.date').prop('readOnly', true);	

  
  	//songs cat filter
	$('.cat-filter .item').click(function(){
		var cat = $(this).attr('song-cat');
		$(this).parent('.cat-filter').siblings('.song').hide();
		$(this).addClass('active').siblings().removeClass('active');

		if($(this).parent('.cat-filter').siblings('.song').hasClass(cat)){
		   $(this).parent('.cat-filter').siblings('.' + cat).show();
		} else {
			$(this).parent('.cat-filter').siblings('.song').show();
		}
	})
	
  	//ppom-file-wrapper
    setInterval(function() {
        if($('.ppom-file-wrapper').length){ $('body').addClass('file-hide'); }
        else{ $('body').removeClass('file-hide'); }
    }, 1000);
  
  	//pp
  	setTimeout(function() {
    $( ".woocommerce-privacy-policy-text a" ).insertAfter( ".woocommerce-terms-and-conditions-wrapper a" );
    }, 2000);

	
  	//mobile show order
  	$('.checkout-mobile-order-review .toggle').click(function(){
      $(this).siblings('.content').slideToggle('200');
      $(this).children('span').toggle();
    })
  
  	//woocommerce error massage
  	if ($(".single-product .woocommerce-error")[0]){
      $('body').addClass('woocommerce-error');
    }
  	$('.woocommerce-notices-wrapper').click(function(){
      $(this).hide();
    })
 
	
  
  	//Search
    $("#ajaxSearch").on("keyup", function() {
      var value = $(this).val().toLowerCase();
      $(".songs .song").filter(function() {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
      });
    });
  
  
  	//songs
  	$('.func .btn').click(function(){ $('.song-popup').addClass('active'); })
    $('.close-popup').click(function(){ 
      $('.song-popup').removeClass('active');
      $('.actions').removeClass('active').siblings('audio').trigger('pause');
    })
  
  	$('.song .play').click(function(){
         $(this).parent('.actions').parent('li').siblings('li').children('.actions').removeClass('active').siblings('audio').trigger('pause');
         if($(this).parent('.actions').hasClass('active')){
         	$(this).parent('.actions').removeClass('active').siblings('audio').trigger('pause');
         }
        else{
        	$(this).parent('.actions').addClass('active').siblings('audio').trigger('play');
        }
    })
	
  
  	$('.song .select').click(function(){
       $(this).addClass('selected').parent('.actions').removeClass('active').siblings('audio').trigger('pause');
       $(this).closest('.song').siblings('.song').children('.actions').children('.select').removeClass('selected');
       $('.song-popup').removeClass('active');
      
      if($(this).closest('.song').hasClass('custom-song')){
        var name = $(this).parent('.actions').siblings('.data').find('.name').children('input').val();
        var artist = $(this).parent('.actions').siblings('.data').find('.artist').children('input').val();        
        var time = $(this).parent('.actions').siblings('.data').find('.time').children('input').val();

        var song_name = artist + ", " + name + ", " + time ;
      }
      else{
        var name = $(this).parent('.actions').siblings('.data').find('.name').text();
        var artist = $(this).parent('.actions').siblings('.data').find('.artist').text();
        var song_name = artist + ", " + name;
      }
      
      localStorage.setItem('song', song_name);
		
      $('.song-picked').val(song_name);
      $('.song-name').text(song_name);
      

      $('.func .btn').text('×”×—×œ×¤×”');
    })
  
  
  
	$('.gallery .item img').click(function(){
		var url = $(this).attr('src');
		var data = $(this).attr('data-title');
		$(this).parent('.item').addClass('active').siblings('.item').removeClass('active');
		console.log(data);
		$('#ilus_img').val(data);
		$('.song-popup').removeClass('active');
		$('.selected-ilus').attr('src', url);
		$('.song-action.mu .func .btn').text('×”×—×œ×¤×”');
		$('.song-action.mu .title').hide();
		localStorage.setItem('ilus', data);
		localStorage.setItem('ilus_link', url);
	})

	 //song name from storage
     var selected_song = localStorage.getItem('song');
	 if(selected_song === null){
		 if($('body').hasClass('video-product')){
			$('#ilus_img').val('×”×–×ž× ×” ×œ×œ× ×”×“×ž×™×”');
		} else if($('body').hasClass('image-product')){
			$('.song-picked').val('×”×–×ž× ×” ×œ×œ× ×©×™×¨');
		}
	 }
	else{
		$('.song-name').text(selected_song);
		$('.song-picked').val(selected_song);
	}
	
	
  	 //ilus name from storage
     var ilus_link = localStorage.getItem('ilus_link');
	 var ilus_name = localStorage.getItem('ilus');

	 $('.selected-ilus').attr('src', ilus_link);
	
	if(ilus_name === null){
		 if($('body').hasClass('video-product')){
			$('#ilus_img').val('×”×–×ž× ×” ×œ×œ× ×”×“×ž×™×”');
		} else if($('body').hasClass('image-product')){
			$('.song-picked').val('×”×–×ž× ×” ×œ×œ× ×©×™×¨');
		}
	 }
	else{
		 $('#ilus_img').val(ilus_name);
	}

	//approval validation song
	if($('body').hasClass('product_cat_approval-validation')){
		$('.song-picked').val('×ž×¢×¨×›×ª ××™×©×•×¨×™ ×”×’×¢×” - ×œ×œ× ×©×™×¨');
	}
  
  	//Whatsaap PopUp
  	$('.whatsaap-sentrypop-icon, .close-whatsapp').click(function(){
      $('.whatsaap-sentrypop').toggleClass('show');
    })
    
    
  	//off click in cart & checkout
    if ($(".woocommerce-cart, .woocommerce-checkout")[0]){$(".minicart-icon").off('click');};
	
  
    //loading add_to_cart_button
    $('.single_add_to_cart_button').click(function(){
      if(! $(this).hasClass('disabled')){
        $(this).addClass('loading');
      }
    });
  
    //woocommerce-widget
    $('.woocommerce-widget-layered-nav').click(function(){
        $(this).toggleClass('show');
    })
  
    //Close all
    $('.close-menu-background').click(function(){
        $( "body" ).removeClass('page-is-open show-search cart-is-open sidebar-is-open shipping-is-open');
        $('.single_add_to_cart_button').text('×”×•×¡×¤×” ×œ×¡×œ');
    })
  
    //sidebar
    $('.filter-btn').click(function(){
        $( "body" ).toggleClass('sidebar-is-open');
    })
  
  
    //Open Side Menu
    $(".mobile-menu-btn").click(function() {
      $('.navigation').toggleClass("navigation-is-open");
      $( ".mobile-menu-btn" ).toggleClass('open');
      $( "body" ).toggleClass('page-is-open');
      if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
     	 $(".menu-item").removeClass("show-childrens");
      }
    });
  
  	//menu items
    $(".menu-item").click(function(event) {
        if($(this).hasClass("back-menu-mobile")){
           event.stopPropagation();
           $(this).parent('.sub-menu').parent('.menu-item').removeClass("show-childrens");
        }
        else if($(this).hasClass("menu-item-has-children")){
           event.stopPropagation();
           $(this).addClass("show-childrens").siblings('.menu-item-has-children').removeClass("show-childrens");
        }
        else{
          $('.navigation').removeClass("navigation-is-open");
          $( ".mobile-menu-btn" ).removeClass('open');
          $( "body" ).removeClass('page-is-open');
        }
      });
  
  
  
      //Remove browser autocomplete
      $( document ).on( 'focus', '.search-field', function(){$( this ).attr( 'autocomplete', 'off' );});
  
      //Product to display
      $(".view-btns p").click(function() {
          var col = $(this).data("col");
          $(this).addClass('active').siblings('p').removeClass('active');
          $('.products-container, .products-container .products').removeClass('columns-1 columns-2 columns-3 columns-4').addClass(col);
      });
  
  	  //display products active on load 
      var width = $(window).width();
      if(width > 768 && width <= 1000 ){
        $('.display-3').addClass('active');
        $('.products-container, .products-container .products').removeClass('columns-1 columns-2 columns-4').addClass('columns-3');
      }
      else if(width <= 767 ){
        $('.display-2').addClass('active');
        $('.products-container, .products-container .products').removeClass('columns-1 columns-3 columns-4').addClass('columns-2');
      }
      else{
        $('.display-4').addClass('active');
        $('.products-container, .products-container .products').removeClass('columns-1 columns-2 columns-3').addClass('columns-4');
      }
  
  	  //home header effect
      $(function () {
          $(window).scroll(function () {
              var top_offset = $(window).scrollTop();
              if (top_offset == 0) {
                  $('body.home').addClass('home-header');
              }
          })
      });

      $(window).scroll(function() {
          var scroll = $(window).scrollTop();
            if (scroll >= 50) {
                $('body.home').removeClass('home-header');
            }
      });
  	  var scroll = $(window).scrollTop();
      if (scroll >= 50) {
        $('body.home').removeClass('home-header');
      }
      
      //NavUp
      $(function () {
          $(window).scroll(function () {
              var top_offset = $(window).scrollTop();
              if (top_offset == 0) {
                  $('body').removeClass('nav-up');
              }
          })
      });

      $(window).scroll(function() {
          var scroll = $(window).scrollTop();
            if (scroll >= 50) {
                $('body').addClass('nav-up');
            }
      }); 
      var scroll = $(window).scrollTop();
      if (scroll >= 50) {
        $('body').addClass('nav-up');
      }
  
 
      
    //Back To Top
      if ($('#back-to-top').length) {
          var scrollTrigger = 100, // px
              backToTop = function () {
                  var scrollTop = $(window).scrollTop();
                  if (scrollTop > scrollTrigger) {
                      $('#back-to-top').addClass('show');
                  } else {
                      $('#back-to-top').removeClass('show');
                  }
              };
          backToTop();
          $(window).on('scroll', function () {
              backToTop();
          });
          $('#back-to-top').on('click', function (e) {
              e.preventDefault();
              $('html,body').animate({
                  scrollTop: 0
              }, 700);
          });
      }
  
  
  //scroll
  function isScrolledIntoView(elem) {
      var docViewTop = $(window).scrollTop();
      var docViewBottom = docViewTop + $(window).height();
      var vh = $(window).height() * 0.6;
      var elemTop = $(elem).offset().top + vh;


      var elemBottom = elemTop + $(elem).height();

      return ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));
  }

  $(window).scroll(function () {
      $('.check-it').each(function () {
          if (isScrolledIntoView(this) === true) {$(this).addClass('checked');}
          else{$(this).removeClass('checked');}
      });

  });
  
});


    
// ATT-10141
function initCharCounter() {
    var $textarea = jQuery('textarea[name="ppom[fields][extra_text]"]');

    if ($textarea.length && !$textarea.attr('data-char-counter-initialized')) {
        jQuery($textarea).attr('placeholder', '×“×•×’×ž××•×ª:\n- ×”×”×¡×¢×” ×ª×¦× ×ž×¤××¨×§ ×”×™×¨×§×•×Ÿ ×‘×©×¢×” 17:30\n- ×œ×”×•×¡×™×£ ××ª ×”××—×™×: ×ž×•×¨, ×§×•×‘×™ ×•×§×•×¨×œ\n- × × ×œ×”×‘×™× ×‘×’×“×™ ×™× ×•×ž×’×‘×•×ª');
        $textarea.attr('data-char-counter-initialized', 'true');

        // Add the character counter below the textarea
        $textarea.after('<div id="char-counter" style="text-align: right;">×ª×•×•×™× ×©× ×•×ª×¨×•: <span id="chars-left">90</span></div>');

        var maxLength = 90; // Set the maximum number of characters
        var counter = jQuery('#chars-left');

        // Load the value from localStorage
        var storedValue = localStorage.getItem('extra_text');
        if (storedValue) {
            $textarea.val(storedValue);
            counter.text(maxLength - storedValue.length);
        }

        $textarea.on('input', function () {
            var currentLength = jQuery(this).val().length;
            var remaining = maxLength - currentLength;

            // Save the value to localStorage
            localStorage.setItem('extra_text', jQuery(this).val());

            counter.text(remaining);
        });
        return true;
    }
    return false;
}

jQuery(document).on('ppom_script_loaded', function () {
    setTimeout(function () {
        initCharCounter();
    }, 500);
});

jQuery(document).ready(function () {
    setTimeout(function () {
        initCharCounter();
    }, 500);
});


// ATT-10152

document.addEventListener('DOMContentLoaded', () => {
  const buttons = document.querySelectorAll('.btn.pulsing-button');

  buttons.forEach(button => {
    button.addEventListener('click', () => {
      if (button.textContent === '×”×—×œ×¤×”') {
        button.classList.remove('pulsing-button');
      }
    });
  });
});


